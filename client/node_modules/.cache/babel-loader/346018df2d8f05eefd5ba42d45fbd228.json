{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/great_dev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/ReactExpress-main/client/src/Components/FormCheck.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport logo from '../imgages/sos3.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { Container, Toolbar, AppBar, Typography, Box, Dialog, DialogContent, DialogContentText, DialogActions, DialogTitle, TextField } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  textField: {\n    width: '18rem',\n    textAlign: 'center',\n    marginTop: theme.spacing(2)\n  },\n  buttons: {\n    marginTop: '1rem'\n  },\n  input: {\n    display: 'none',\n    width: '18rem',\n    textAlign: 'center',\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction FormCheck() {\n  _s();\n\n  let classes = useStyles();\n\n  const shortid = require('shortid');\n\n  const [file, setFile] = useState();\n  const [date, setDate] = useState();\n  const [forms, setForms] = useState({\n    id: shortid.generate(),\n    date: null,\n    images: ''\n  });\n\n  const handleChange = event => {\n    const {\n      value\n    } = event.currentTarget;\n    setDate(value);\n  };\n\n  const handleChangeFile = event => {\n    /* let file = event.target.files[0];\n     console.log(file)\n         let data = new FormData();\n         data.append('image',file);\n         setForms({...forms, images:data})\n         \n    let file = event.target.files[0];\n     let blob = new Blob([file],{type: 'image/jpeg'})\n     console.log(blob)\n     setForms({...forms, images:blob});\n       \n      let reader = new FileReader();\n        reader.readAsDataURL(blob); // конвертирует Blob в base64 и вызывает onload\n         reader.onload = function() {\n            \n            setForms({...forms, images:reader.result})\n        };*/\n  };\n\n  const handleSubmit = event => {\n    const data = new FormData();\n    data.append('date', date);\n    data.append('images', file);\n    axios.post('/formsCheck', data).then(res => console.log(res)).catch(err => {\n      console.log(\"error= \" + err);\n    });\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        size: \"small\",\n        variant: \"outlined\",\n        className: classes.textField,\n        id: \"standard-basic\",\n        type: \"date\",\n        value: forms.date,\n        onChange: handleChange,\n        name: \"date\",\n        placeholder: \"\\u0414\\u0430\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        accept: \"image/*\",\n        onChange: e => {\n          const file = e.target.files[0];\n          setFile(file);\n        },\n        name: \"images\",\n        className: classes.input,\n        id: \"icon-button-photo\",\n        type: \"file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"icon-button-photo\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          component: \"span\",\n          children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.buttons,\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FormCheck, \"6Vq+Fg+YwE70S8nKAE0gW+Sg1zQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = FormCheck;\nexport default FormCheck;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCheck\");","map":{"version":3,"sources":["/home/great_dev/Рабочий стол/ReactExpress-main/client/src/Components/FormCheck.js"],"names":["useEffect","useState","axios","logo","makeStyles","Button","Container","Toolbar","AppBar","Typography","Box","Dialog","DialogContent","DialogContentText","DialogActions","DialogTitle","TextField","IconButton","PhotoCamera","useStyles","theme","root","flexGrow","textField","width","textAlign","marginTop","spacing","buttons","input","display","FormCheck","classes","shortid","require","file","setFile","date","setDate","forms","setForms","id","generate","images","handleChange","event","value","currentTarget","handleChangeFile","handleSubmit","data","FormData","append","post","then","res","console","log","catch","err","preventDefault","e","target","files"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport logo from '../imgages/sos3.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport {Container,Toolbar,AppBar,Typography,Box,Dialog, DialogContent, DialogContentText,DialogActions,DialogTitle,TextField} from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow:1\n    },\n    textField: {\n        width: '18rem',\n        textAlign:'center',\n        marginTop:theme.spacing(2)\n    },\n    buttons: {\n        marginTop:'1rem'\n    },\n    input: {\n        display: 'none',\n        width: '18rem',\n        textAlign:'center',\n        marginTop:theme.spacing(2)\n    }\n  }))\n\n\nfunction FormCheck() {\n    let classes = useStyles()\n    const shortid = require('shortid');\n    const [file,setFile] = useState();\n    const [date,setDate] = useState();\n\n    const [forms,setForms] = useState({\n        id:shortid.generate(),\n        date:null,\n        images:''\n    })\n   const handleChange = (event) => {\n       const {value} = event.currentTarget;\n    setDate(value);\n   }\n\n   const handleChangeFile = (event) => {\n   /* let file = event.target.files[0];\n    console.log(file)\n        let data = new FormData();\n        data.append('image',file);\n        setForms({...forms, images:data})\n        \n   let file = event.target.files[0];\n    let blob = new Blob([file],{type: 'image/jpeg'})\n    console.log(blob)\n    setForms({...forms, images:blob});\n      \n     let reader = new FileReader();\n       reader.readAsDataURL(blob); // конвертирует Blob в base64 и вызывает onload\n\n       reader.onload = function() {\n           \n           setForms({...forms, images:reader.result})\n       };*/\n   }\n\n    const handleSubmit = (event) => {\n        \n        const data = new FormData();\n        data.append('date',date);\n        data.append('images',file);\n\n        axios.post('/formsCheck',data)\n        .then(res => console.log(res))\n        .catch(err => {\n            console.log(\"error= \"+err)\n        })\n        event.preventDefault();\n    }\n    return (\n        <div>\n            <form onSubmit={handleSubmit} align='center'>\n                <TextField  size='small' variant='outlined' className={classes.textField} id=\"standard-basic\"  type=\"date\" value={forms.date} onChange={handleChange} name=\"date\" placeholder=\"Дата\" />\n                    <br/>\n                    <input accept=\"image/*\" onChange={e => {\n                        const file = e.target.files[0];\n                        setFile(file);\n                    }} name=\"images\" className={classes.input} id=\"icon-button-photo\" type=\"file\" />\n                <label htmlFor=\"icon-button-photo\">\n                    <IconButton color=\"primary\" component=\"span\">\n                        <PhotoCamera />\n                    </IconButton>\n                </label>\n                    <br/>\n                <Button className={classes.buttons} type='submit' variant='contained'  color='primary'>Отправить</Button>\n               \n            </form>\n        </div>\n    )\n}\n\nexport default FormCheck;"]},"metadata":{},"sourceType":"module"}