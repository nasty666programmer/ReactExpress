{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/great_dev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/ReactExpress-main/client/src/Components/FormCheck.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport logo from '../imgages/sos3.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { Container, Toolbar, AppBar, Typography, Box, Dialog, DialogContent, DialogContentText, DialogActions, DialogTitle, TextField } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  textField: {\n    width: '18rem',\n    textAlign: 'center',\n    marginTop: theme.spacing(2)\n  },\n  buttons: {\n    marginTop: '1rem'\n  },\n  input: {\n    display: 'none',\n    width: '18rem',\n    textAlign: 'center',\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction FormCheck() {\n  _s();\n\n  let classes = useStyles();\n\n  const shortid = require('shortid');\n\n  const [forms, setForms] = useState({\n    id: shortid.generate(),\n    date: null,\n    images: ''\n  });\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.currentTarget;\n    setForms({ ...forms,\n      [name]: value\n    });\n  };\n\n  const handleChangeFile = event => {\n    let data = new FormData();\n    data.append('image', e.target.files[0]);\n    /* let file = event.target.files[0];\n     let blob = new Blob([file],{type: 'image/jpeg'})\n     console.log(blob)\n     setForms({...forms, images:blob});\n       \n      let reader = new FileReader();\n        reader.readAsDataURL(blob); // конвертирует Blob в base64 и вызывает onload\n         reader.onload = function() {\n            \n            setForms({...forms, images:reader.result})\n        };*/\n  };\n\n  const handleSubmit = event => {\n    console.log(forms);\n    axios.post('/formsCheck', forms).then(res => console.log(\"data = \" + { ...forms\n    })).then(setForms({ ...forms,\n      date: '',\n      images: ''\n    })).catch(err => {\n      console.log(\"error= \" + err);\n    });\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        size: \"small\",\n        variant: \"outlined\",\n        className: classes.textField,\n        id: \"standard-basic\",\n        type: \"date\",\n        value: forms.date,\n        onChange: handleChange,\n        name: \"date\",\n        placeholder: \"\\u0414\\u0430\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        accept: \"image/*\",\n        onChange: handleChangeFile,\n        name: \"images\",\n        className: classes.input,\n        id: \"icon-button-photo\",\n        type: \"file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"icon-button-photo\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          component: \"span\",\n          children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.buttons,\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FormCheck, \"VpLNmaAMJ//aUA59s+31nZDMlzM=\", false, function () {\n  return [useStyles];\n});\n\n_c = FormCheck;\nexport default FormCheck;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCheck\");","map":{"version":3,"sources":["/home/great_dev/Рабочий стол/ReactExpress-main/client/src/Components/FormCheck.js"],"names":["useEffect","useState","axios","logo","makeStyles","Button","Container","Toolbar","AppBar","Typography","Box","Dialog","DialogContent","DialogContentText","DialogActions","DialogTitle","TextField","IconButton","PhotoCamera","useStyles","theme","root","flexGrow","textField","width","textAlign","marginTop","spacing","buttons","input","display","FormCheck","classes","shortid","require","forms","setForms","id","generate","date","images","handleChange","event","name","value","currentTarget","handleChangeFile","data","FormData","append","e","target","files","handleSubmit","console","log","post","then","res","catch","err","preventDefault"],"mappings":";;;;;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAAQC,SAAR,EAAkBC,OAAlB,EAA0BC,MAA1B,EAAiCC,UAAjC,EAA4CC,GAA5C,EAAgDC,MAAhD,EAAwDC,aAAxD,EAAuEC,iBAAvE,EAAyFC,aAAzF,EAAuGC,WAAvG,EAAmHC,SAAnH,QAAmI,mBAAnI;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AAEA,MAAMC,SAAS,GAAGf,UAAU,CAAEgB,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAC;AADL,GAD+B;AAIrCC,EAAAA,SAAS,EAAE;AACPC,IAAAA,KAAK,EAAE,OADA;AAEPC,IAAAA,SAAS,EAAC,QAFH;AAGPC,IAAAA,SAAS,EAACN,KAAK,CAACO,OAAN,CAAc,CAAd;AAHH,GAJ0B;AASrCC,EAAAA,OAAO,EAAE;AACLF,IAAAA,SAAS,EAAC;AADL,GAT4B;AAYrCG,EAAAA,KAAK,EAAE;AACHC,IAAAA,OAAO,EAAE,MADN;AAEHN,IAAAA,KAAK,EAAE,OAFJ;AAGHC,IAAAA,SAAS,EAAC,QAHP;AAIHC,IAAAA,SAAS,EAACN,KAAK,CAACO,OAAN,CAAc,CAAd;AAJP;AAZ8B,CAAZ,CAAD,CAA5B;;AAqBA,SAASI,SAAT,GAAqB;AAAA;;AACjB,MAAIC,OAAO,GAAGb,SAAS,EAAvB;;AACA,QAAMc,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBnC,QAAQ,CAAC;AAC9BoC,IAAAA,EAAE,EAACJ,OAAO,CAACK,QAAR,EAD2B;AAE9BC,IAAAA,IAAI,EAAC,IAFyB;AAG9BC,IAAAA,MAAM,EAAC;AAHuB,GAAD,CAAjC;;AAKD,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,UAAM;AAACC,MAAAA,IAAD;AAAMC,MAAAA;AAAN,QAAeF,KAAK,CAACG,aAA3B;AACHT,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACL,OAACQ,IAAD,GAAOC;AADF,KAAD,CAAR;AAGA,GALD;;AAOA,QAAME,gBAAgB,GAAIJ,KAAD,IAAW;AAE/B,QAAIK,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAoBC,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB;AACL;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEI,GAhBD;;AAkBC,QAAMC,YAAY,GAAIX,KAAD,IAAW;AAC5BY,IAAAA,OAAO,CAACC,GAAR,CAAYpB,KAAZ;AAEAjC,IAAAA,KAAK,CAACsD,IAAN,CAAW,aAAX,EAAyBrB,KAAzB,EACCsB,IADD,CACMC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAY,YAAY,EAAC,GAAGpB;AAAJ,KAAxB,CADb,EAECsB,IAFD,CAEMrB,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWI,MAAAA,IAAI,EAAC,EAAhB;AAAmBC,MAAAA,MAAM,EAAC;AAA1B,KAAD,CAFd,EAGCmB,KAHD,CAGOC,GAAG,IAAI;AACVN,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAUK,GAAtB;AACH,KALD;AAMAlB,IAAAA,KAAK,CAACmB,cAAN;AACH,GAVD;;AAWA,sBACI;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAER,YAAhB;AAA8B,MAAA,KAAK,EAAC,QAApC;AAAA,8BACI,QAAC,SAAD;AAAY,QAAA,IAAI,EAAC,OAAjB;AAAyB,QAAA,OAAO,EAAC,UAAjC;AAA4C,QAAA,SAAS,EAAErB,OAAO,CAACT,SAA/D;AAA0E,QAAA,EAAE,EAAC,gBAA7E;AAA+F,QAAA,IAAI,EAAC,MAApG;AAA2G,QAAA,KAAK,EAAEY,KAAK,CAACI,IAAxH;AAA8H,QAAA,QAAQ,EAAEE,YAAxI;AAAsJ,QAAA,IAAI,EAAC,MAA3J;AAAkK,QAAA,WAAW,EAAC;AAA9K;AAAA;AAAA;AAAA;AAAA,cADJ,eAEQ;AAAA;AAAA;AAAA;AAAA,cAFR,eAGQ;AAAO,QAAA,MAAM,EAAC,SAAd;AAAwB,QAAA,QAAQ,EAAEK,gBAAlC;AAAoD,QAAA,IAAI,EAAC,QAAzD;AAAkE,QAAA,SAAS,EAAEd,OAAO,CAACH,KAArF;AAA4F,QAAA,EAAE,EAAC,mBAA/F;AAAmH,QAAA,IAAI,EAAC;AAAxH;AAAA;AAAA;AAAA;AAAA,cAHR,eAII;AAAO,QAAA,OAAO,EAAC,mBAAf;AAAA,+BACI,QAAC,UAAD;AAAY,UAAA,KAAK,EAAC,SAAlB;AAA4B,UAAA,SAAS,EAAC,MAAtC;AAAA,iCACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ,eASQ;AAAA;AAAA;AAAA;AAAA,cATR,eAUI,QAAC,MAAD;AAAQ,QAAA,SAAS,EAAEG,OAAO,CAACJ,OAA3B;AAAoC,QAAA,IAAI,EAAC,QAAzC;AAAkD,QAAA,OAAO,EAAC,WAA1D;AAAuE,QAAA,KAAK,EAAC,SAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBH;;GA7DQG,S;UACSZ,S;;;KADTY,S;AA+DT,eAAeA,SAAf","sourcesContent":["import {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport logo from '../imgages/sos3.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport {Container,Toolbar,AppBar,Typography,Box,Dialog, DialogContent, DialogContentText,DialogActions,DialogTitle,TextField} from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow:1\n    },\n    textField: {\n        width: '18rem',\n        textAlign:'center',\n        marginTop:theme.spacing(2)\n    },\n    buttons: {\n        marginTop:'1rem'\n    },\n    input: {\n        display: 'none',\n        width: '18rem',\n        textAlign:'center',\n        marginTop:theme.spacing(2)\n    }\n  }))\n\n\nfunction FormCheck() {\n    let classes = useStyles()\n    const shortid = require('shortid');\n    const [forms,setForms] = useState({\n        id:shortid.generate(),\n        date:null,\n        images:''\n    })\n   const handleChange = (event) => {\n       const {name,value} = event.currentTarget;\n    setForms({...forms,\n        [name]:value\n       })\n   }\n\n   const handleChangeFile = (event) => {\n\n        let data = new FormData();\n        data.append('image',e.target.files[0]);\n   /* let file = event.target.files[0];\n    let blob = new Blob([file],{type: 'image/jpeg'})\n    console.log(blob)\n    setForms({...forms, images:blob});\n      \n     let reader = new FileReader();\n       reader.readAsDataURL(blob); // конвертирует Blob в base64 и вызывает onload\n\n       reader.onload = function() {\n           \n           setForms({...forms, images:reader.result})\n       };*/\n   }\n\n    const handleSubmit = (event) => {\n        console.log(forms)  \n      \n        axios.post('/formsCheck',forms)\n        .then(res => console.log(\"data = \" + {...forms}))\n        .then(setForms({...forms, date:'',images:'',}))\n        .catch(err => {\n            console.log(\"error= \"+err)\n        })\n        event.preventDefault();\n    }\n    return (\n        <div>\n            <form onSubmit={handleSubmit} align='center'>\n                <TextField  size='small' variant='outlined' className={classes.textField} id=\"standard-basic\"  type=\"date\" value={forms.date} onChange={handleChange} name=\"date\" placeholder=\"Дата\" />\n                    <br/>\n                    <input accept=\"image/*\" onChange={handleChangeFile} name=\"images\" className={classes.input} id=\"icon-button-photo\" type=\"file\" />\n                <label htmlFor=\"icon-button-photo\">\n                    <IconButton color=\"primary\" component=\"span\">\n                        <PhotoCamera />\n                    </IconButton>\n                </label>\n                    <br/>\n                <Button className={classes.buttons} type='submit' variant='contained'  color='primary'>Отправить</Button>\n               \n            </form>\n        </div>\n    )\n}\n\nexport default FormCheck;"]},"metadata":{},"sourceType":"module"}